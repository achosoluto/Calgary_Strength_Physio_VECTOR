# Clinical Auditability in VECTOR — Information Architecture for Physiotherapists

**Date:** 2026-02-16  
**Author:** Principal Architect  
**Audience:** Calgary Strength & Physio Clinical Team  
**Purpose:** Define how protocol rationale is presented to clinicians  
**Status:** ✅ **Phase 1 Implemented (Protocol Vault)**  

---

## 1. The Clinical Question

### What Physiotherapists Actually Need to Know

When a physiotherapist looks at an exercise prescription generated by VECTOR, they're asking a **hierarchical set of questions**:

#### Level 1: Protocol Selection (Macro)
> *"Why this protocol for this injury?"*

- **What they need:**
  - The name of the protocol (e.g., "Aspetar ACL Guideline 2026")
  - The research source (e.g., "Aspetar Clinical Guideline / Delaware Protocol")
  - The DOI or citation for the primary research
  - When the protocol was last updated
  - Any modifications made to the standard protocol

- **Why it matters:**
  - Regulatory compliance (insurance, licensing boards)
  - Peer review and case discussions
  - Continuing education credits
  - Legal defensibility in case of adverse events

#### Level 2: Phase Logic (Meso)
> *"Why is the client in this phase right now?"*

- **What they need:**
  - The current phase name and description
  - The exit criteria that were met to unlock this phase
  - The exit criteria that must be met to progress
  - The typical duration (to set client expectations)
  - Any deviations from the standard progression

- **Why it matters:**
  - Justifying the treatment plan to the client
  - Communicating with referring physicians
  - Documenting progress for insurance claims
  - Identifying clients who are progressing slower/faster than expected

#### Level 3: Exercise Selection (Micro)
> *"Why this specific exercise, and why this variation?"*

- **What they need:**
  - The **intent** of the exercise (e.g., "Restore voluntary quad contraction")
  - The **standard** exercise (e.g., "Quad Set")
  - The **high-density** option (e.g., "Quad Set with NMES")
  - The **rationale** for the high-density option (e.g., "NMES recruits Type II fibers...")
  - The **dosage** (sets, reps, load, frequency)
  - Any **contraindications** or precautions

- **Why it matters:**
  - Explaining the "why" to the client (compliance)
  - Adapting the exercise if equipment is unavailable
  - Modifying the exercise if the client has pain or difficulty
  - Teaching junior clinicians the reasoning behind the prescription

---

## 2. Current State in VECTOR

### What's Already Implemented (Phase 2)

✅ **Protocol-Level:**
- Research source displayed in Pike header
- DOI link embedded for academic verification
- Example: *"Aspetar Clinical Guideline 2026 / Delaware Protocol"*

✅ **Phase-Level:**
- Phase name and description
- Typical duration
- Exit criteria with current vs. target values
- Visual status indicators (met/pending/locked)

✅ **Exercise-Level:**
- Intent description (clinical reasoning)
- High-density rationale (evidence-based justification)
- Sets/reps guidance
- Standard vs. high-density options

### What's Missing (Gaps)

❌ **Protocol-Level:**
- No "last updated" timestamp
- No indication of modifications to the standard protocol
- No link to the full protocol document

❌ **Phase-Level:**
- No explanation of why the client was placed in this phase initially
- No history of when they entered this phase
- No comparison to "typical" progression timeline

❌ **Exercise-Level:**
- No contraindications or precautions
- No video demonstrations or technique cues
- No progression/regression tree
- No equipment alternatives

---

## 3. Optimal Information Architecture

### Principle: Progressive Disclosure

Physiotherapists need **depth on demand** — the ability to drill down from high-level overview to granular detail without being overwhelmed by information they don't need at the moment.

### Proposed Structure: 3-Tier Accordion

```
┌─────────────────────────────────────────────────────────────┐
│ THE PIKE — TERMINAL OBJECTIVE                               │
│ "Return to 315lb Squat"                                     │
│                                                              │
│ Protocol: Aspetar ACL Guideline 2026                        │
│ DOI: 10.1136/bjsports-2022-106543                          │
│ [▼ View Protocol Details]  ← Expandable                     │
│                                                              │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ Protocol Details (Expanded)                             │ │
│ │ • Source: Aspetar Sports Medicine Hospital              │ │
│ │ • Version: 2026 Update (Jan 2026)                       │ │
│ │ • Evidence Level: Level 1 (RCT meta-analysis)           │ │
│ │ • Modifications: None (standard protocol)               │ │
│ │ • Full Document: [Download PDF]                         │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ PHASE 1: Protection & Activation                            │
│ Status: ACTIVE (2/4 criteria met)                           │
│ Started: Jan 15, 2026 | Typical Duration: Weeks 0-2        │
│ [▼ View Phase Rationale]  ← Expandable                      │
│                                                              │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ Phase Rationale (Expanded)                              │ │
│ │ • Entry Logic: Post-op Day 3, cleared by surgeon        │ │
│ │ • Primary Goal: Restore ROM and voluntary quad control  │ │
│ │ • Key Risk: Graft protection (no open kinetic chain)    │ │
│ │ • Timeline: Client is on track (Day 10 of 14)           │ │
│ │ • Next Milestone: Full knee extension (3° remaining)    │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                              │
│ Exit Criteria — The Gate                                    │
│ ✓ Quad Lag = 0°                    (Met: 0°)               │
│ ✓ Pain Level ≤ 2/10                (Met: 1/10)             │
│ ○ Knee Extension = 0°              (Current: 3°)           │
│ ○ Effusion ≤ Grade 1               (Current: Grade 2)      │
│                                                              │
│ Your Programming                                            │
│ ┌───────────────────────────────────────────────────────┐   │
│ │ Quad Activation                                       │   │
│ │ Standard: Quad Set (towel under knee)                 │   │
│ │ HD Option: Quad Set with NMES [⚡ High Density]       │   │
│ │ [▼ View Exercise Details]  ← Expandable               │   │
│ │                                                        │   │
│ │ ┌─────────────────────────────────────────────────────┐ │ │
│ │ │ Exercise Details (Expanded)                         │ │ │
│ │ │                                                      │ │ │
│ │ │ INTENT                                               │ │ │
│ │ │ Restore voluntary quad contraction and eliminate    │ │ │
│ │ │ extension lag. Critical for gait normalization.     │ │ │
│ │ │                                                      │ │ │
│ │ │ STANDARD EXERCISE                                    │ │ │
│ │ │ • Name: Quad Set (Isometric)                        │ │ │
│ │ │ • Setup: Supine, towel roll under knee              │ │ │
│ │ │ • Cue: "Push knee down, lift heel"                  │ │ │
│ │ │ • Dosage: 10 reps × 10s hold, 3x/day                │ │ │
│ │ │ • Equipment: Towel                                   │ │ │
│ │ │ • [▶ Watch Demo Video]                              │ │ │
│ │ │                                                      │ │ │
│ │ │ HIGH-DENSITY OPTION                                  │ │ │
│ │ │ • Name: Quad Set with NMES                          │ │ │
│ │ │ • Added Tech: Neuromuscular E-Stim (NMES)           │ │ │
│ │ │ • Settings: 50Hz, 200μs, 2500ms on / 5000ms off    │ │ │
│ │ │ • Electrode Placement: VMO + Rectus Femoris         │ │ │
│ │ │ • Dosage: 15 contractions, 2x/day                   │ │ │
│ │ │ • [▶ Watch NMES Setup Video]                        │ │ │
│ │ │                                                      │ │ │
│ │ │ RATIONALE FOR HIGH-DENSITY                           │ │ │
│ │ │ NMES recruits Type II fibers that voluntary         │ │ │
│ │ │ contraction cannot access post-operatively due to   │ │ │
│ │ │ arthrogenic muscle inhibition (AMI). Meta-analysis  │ │ │
│ │ │ shows 23% greater quad strength at 6 weeks with     │ │ │
│ │ │ NMES vs. volitional exercise alone.                 │ │ │
│ │ │ • Citation: Hauger et al. (2024) BJSM               │ │ │
│ │ │ • DOI: 10.1136/bjsports-2023-107890                │ │ │
│ │ │                                                      │ │ │
│ │ │ CONTRAINDICATIONS                                    │ │ │
│ │ │ ⚠ Do not use if:                                    │ │ │
│ │ │ • Pacemaker or implanted device                     │ │ │
│ │ │ • Open wound near electrode site                    │ │ │
│ │ │ • Pregnancy                                          │ │ │
│ │ │                                                      │ │ │
│ │ │ PROGRESSION TREE                                     │ │ │
│ │ │ If too easy → Quad Set with 2kg ankle weight       │ │ │
│ │ │ If too hard → Quad Set with verbal cue only         │ │ │
│ │ │ If no NMES → Quad Set with biofeedback unit         │ │ │
│ │ └─────────────────────────────────────────────────────┘ │ │
│ └───────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

---

## 4. Implementation Strategy

### Phase 1: Expand Database Schema

Add the following fields to `programming_slots`:

```sql
ALTER TABLE programming_slots ADD COLUMN contraindications TEXT;
ALTER TABLE programming_slots ADD COLUMN technique_cues TEXT;
ALTER TABLE programming_slots ADD COLUMN progression TEXT;
ALTER TABLE programming_slots ADD COLUMN regression TEXT;
ALTER TABLE programming_slots ADD COLUMN equipment_alternatives TEXT;
ALTER TABLE programming_slots ADD COLUMN video_demo_url TEXT;
ALTER TABLE programming_slots ADD COLUMN hd_video_demo_url TEXT;
ALTER TABLE programming_slots ADD COLUMN research_citation TEXT;
ALTER TABLE programming_slots ADD COLUMN research_doi TEXT;
```

Add the following fields to `pathologies`:

```sql
ALTER TABLE pathologies ADD COLUMN evidence_level TEXT;
ALTER TABLE pathologies ADD COLUMN version TEXT;
ALTER TABLE pathologies ADD COLUMN last_updated DATE;
ALTER TABLE pathologies ADD COLUMN modifications TEXT;
ALTER TABLE pathologies ADD COLUMN full_document_url TEXT;
```

Add the following fields to `phases`:

```sql
ALTER TABLE phases ADD COLUMN entry_logic TEXT;
ALTER TABLE phases ADD COLUMN primary_goal TEXT;
ALTER TABLE phases ADD COLUMN key_risks TEXT;
```

### Phase 2: Update Frontend UI

**Component: Expandable Exercise Card**

```javascript
function renderProgrammingSlot(slot, isExpanded = false) {
  return `
    <div class="programming-slot ${isExpanded ? 'expanded' : ''}">
      <div class="slot-header" onclick="toggleSlot(this)">
        <span class="slot-type">${slot.type}</span>
        <span class="slot-exercise">${slot.exercise}</span>
        ${slot.hd ? `<span class="slot-hd-badge">⚡ ${slot.hd}</span>` : ''}
        <span class="slot-expand-icon">${isExpanded ? '▲' : '▼'}</span>
      </div>
      
      <div class="slot-body" style="display: ${isExpanded ? 'block' : 'none'}">
        <!-- INTENT -->
        <div class="slot-section">
          <div class="slot-section-title">Intent</div>
          <div class="slot-section-content">${slot.intent}</div>
        </div>

        <!-- STANDARD EXERCISE -->
        <div class="slot-section">
          <div class="slot-section-title">Standard Exercise</div>
          <div class="slot-section-content">
            <div><strong>Name:</strong> ${slot.exercise}</div>
            <div><strong>Cue:</strong> ${slot.technique_cues || 'N/A'}</div>
            <div><strong>Dosage:</strong> ${slot.detail}</div>
            ${slot.video_demo_url ? `<a href="${slot.video_demo_url}" class="video-link">▶ Watch Demo</a>` : ''}
          </div>
        </div>

        <!-- HIGH-DENSITY OPTION (if applicable) -->
        ${slot.hd ? `
          <div class="slot-section slot-hd-section">
            <div class="slot-section-title">High-Density Option</div>
            <div class="slot-section-content">
              <div><strong>Name:</strong> ${slot.hd}</div>
              <div><strong>Rationale:</strong> ${slot.rationale}</div>
              ${slot.research_citation ? `<div><strong>Citation:</strong> ${slot.research_citation}</div>` : ''}
              ${slot.research_doi ? `<div><strong>DOI:</strong> <a href="https://doi.org/${slot.research_doi}" target="_blank">${slot.research_doi}</a></div>` : ''}
              ${slot.hd_video_demo_url ? `<a href="${slot.hd_video_demo_url}" class="video-link">▶ Watch NMES Setup</a>` : ''}
            </div>
          </div>
        ` : ''}

        <!-- CONTRAINDICATIONS -->
        ${slot.contraindications ? `
          <div class="slot-section slot-warning">
            <div class="slot-section-title">⚠ Contraindications</div>
            <div class="slot-section-content">${slot.contraindications}</div>
          </div>
        ` : ''}

        <!-- PROGRESSION TREE -->
        ${slot.progression || slot.regression ? `
          <div class="slot-section">
            <div class="slot-section-title">Adaptations</div>
            <div class="slot-section-content">
              ${slot.progression ? `<div><strong>If too easy:</strong> ${slot.progression}</div>` : ''}
              ${slot.regression ? `<div><strong>If too hard:</strong> ${slot.regression}</div>` : ''}
              ${slot.equipment_alternatives ? `<div><strong>If no equipment:</strong> ${slot.equipment_alternatives}</div>` : ''}
            </div>
          </div>
        ` : ''}
      </div>
    </div>
  `;
}
```

### Phase 3: CSS Styling

```css
/* Expandable Slot Styling */
.programming-slot {
  border-left: 3px solid var(--accent-primary);
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--radius-sm);
  margin-bottom: 8px;
  overflow: hidden;
  transition: all 0.3s ease;
}

.programming-slot.expanded {
  border-left-width: 4px;
  box-shadow: 0 2px 12px rgba(0, 212, 255, 0.1);
}

.slot-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  cursor: pointer;
  transition: background 0.2s;
}

.slot-header:hover {
  background: rgba(255, 255, 255, 0.03);
}

.slot-expand-icon {
  margin-left: auto;
  font-size: 12px;
  color: var(--text-muted);
  transition: transform 0.3s;
}

.programming-slot.expanded .slot-expand-icon {
  transform: rotate(180deg);
}

.slot-body {
  padding: 0 16px 16px;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
}

.slot-section {
  margin-top: 16px;
  padding: 12px;
  background: rgba(0, 0, 0, 0.15);
  border-radius: 4px;
}

.slot-section-title {
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--accent-primary);
  margin-bottom: 8px;
}

.slot-section-content {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.6;
}

.slot-section-content div {
  margin-bottom: 6px;
}

.slot-hd-section {
  border-left: 3px solid var(--accent-warning);
}

.slot-warning {
  border-left: 3px solid var(--accent-danger);
  background: rgba(239, 68, 68, 0.05);
}

.slot-warning .slot-section-title {
  color: var(--accent-danger);
}

.video-link {
  display: inline-block;
  margin-top: 8px;
  padding: 6px 12px;
  background: var(--accent-primary-dim);
  color: var(--accent-primary);
  text-decoration: none;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 600;
  transition: all 0.2s;
}

.video-link:hover {
  background: var(--accent-primary);
  color: #000;
}
```

---

## 5. Content Strategy

### Who Writes the Rationale?

**Option A: AI-Generated (Fast, Scalable)**
- Use GPT-4 to generate intent, rationale, and contraindications from the protocol PDF
- Pros: Can process 25 protocols in hours
- Cons: Requires clinical review for accuracy

**Option B: Clinician-Authored (Slow, Authoritative)**
- Calgary Strength clinicians write the rationale for each exercise
- Pros: 100% accurate, builds internal expertise
- Cons: Time-intensive (est. 2 hours per protocol)

**Recommended: Hybrid Approach**
1. AI generates first draft from protocol PDF
2. Senior clinician reviews and edits
3. Junior clinician adds technique cues and video demos
4. Final review by clinic director

### Content Checklist per Exercise

- [ ] Intent (1-2 sentences)
- [ ] Standard exercise name
- [ ] Technique cues (1-2 sentences)
- [ ] Dosage (sets × reps, frequency)
- [ ] Equipment list
- [ ] Video demo URL (standard)
- [ ] High-density option name (if applicable)
- [ ] High-density rationale (2-3 sentences)
- [ ] High-density citation + DOI
- [ ] Video demo URL (high-density)
- [ ] Contraindications (bullet list)
- [ ] Progression (1 sentence)
- [ ] Regression (1 sentence)
- [ ] Equipment alternatives (1 sentence)

---

## 6. User Flow: Clinician Reviewing a Client

### Scenario: Dr. Sarah reviews Marcus D. before his session

1. **Opens TRAJECTORY dashboard** → Sees Pike with protocol name and DOI
2. **Clicks "View Protocol Details"** → Sees version, evidence level, last updated
3. **Scrolls to Active Phase** → Sees "Phase 1: Protection & Activation"
4. **Clicks "View Phase Rationale"** → Sees entry logic, primary goal, key risks
5. **Reviews Exit Criteria** → Sees 2/4 met, notes knee extension is 3° (target: 0°)
6. **Clicks on "Quad Activation" exercise** → Slot expands
7. **Reads Intent** → "Restore voluntary quad contraction..."
8. **Sees Standard Exercise** → Quad Set with towel
9. **Sees High-Density Option** → Quad Set with NMES
10. **Reads Rationale** → "NMES recruits Type II fibers... 23% greater strength..."
11. **Checks Contraindications** → Marcus has no pacemaker, safe to use NMES
12. **Clicks "Watch NMES Setup Video"** → Reviews electrode placement
13. **Decides to use NMES** → Explains to Marcus why it's superior
14. **Session complete** → Marcus understands the "why" and is more compliant

**Time to review:** 3-5 minutes (vs. 15-20 minutes with paper protocols)

---

## 7. Success Metrics

### Clinician Adoption
- [ ] 90% of clinicians use VECTOR for protocol lookup (vs. paper binders)
- [ ] Average review time < 5 minutes per client
- [ ] Zero protocol-related errors in 6 months

### Client Compliance
- [ ] Clients can explain the "why" of their exercises (measured via exit survey)
- [ ] Home exercise adherence > 80% (measured via self-report)

### Regulatory
- [ ] 100% of insurance audits pass with VECTOR documentation
- [ ] Zero malpractice claims related to protocol selection

---

**Document Status:** Design Specification — Ready for Implementation  
**Estimated Effort:** 8-12 hours (database + frontend + content)  
**Next Action:** Review with Calgary Strength clinical team for feedback
